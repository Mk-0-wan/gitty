{% extends 'base.html' %}

{% block static %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename="ui.css")}}">
{% endblock %}

{% block content %}
    <div class="mobile-menu-toggle">
        <i class="fas fa-bars"></i>
    </div>
    <div class="container">

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fab fa-github"></i> Gitty
            </div>
            <nav class="nav-links">
                <a href="{{ url_for('uibp.welcome')}}" class="nav-link active"><i class="fas fa-home"></i> Home</a>
                <a href="{{ url_for('uibp.projects')}}" class="nav-link"><i class="fas fa-project-diagram"></i> Projects</a>
                <a href="{{ url_for('uibp.teams')}}" class="nav-link"><i class="fas fa-users"></i> Team</a>
                <a href="{{ url_for('uibp.settings')}}" class="nav-link"><i class="fas fa-cog"></i> Settings</a>
            </nav>
            <div class="get-pro">
                <h3>Upgrade to Pro</h3>
                <p>Get more features and benefits</p>
                <button class="upgrade-btn">Upgrade Now</button>
            </div>
            <div class="sidebar-footer">
                <a href="#" class="nav-link"><i class="fas fa-question-circle"></i> Help</a>
                <a href="{{ url_for('accountsbp.logout')}}" class="nav-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </aside>

        <!-- Main Content Area -->
        <div class="main-content">

            <!-- Top Navbar -->
            <header class="top-navbar">
                <div class="welcome-message">
                  Welcome back, <span class="user-name">{{ user.gh_username }}</span>
                </div>
                <div class="header-right">
                    <div class="search-bar">
                        <input type="text" id="search-input" placeholder="Search...">
                        <i class="fas fa-search" id="search-button"></i>
                        <div class="search-results" id="search-results"></div>
                    </div>
                    <div class="user-info">
                      <p>{{ user.gh_photourl }}</p>
                      <img src={{ user.gh_photourl }} alt="User Image" class="user-image">
                    </div>
                </div>
            </header>

            <!-- Central Chat/Content Section -->
            <section class="content-section">
                <div class="sec-con">
                    <div class="stat-grid">
                        <div class="stat-card commits">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <i class="fas fa-code-branch"></i>
                                    <h3>Commits</h3>
                                    <p class="stat-number">1,234</p>
                                </div>
                                <p class="stat-change positive">+5.3%</p>
                            </div>
                            <div class="graph-container">
                                <canvas id="commitsChart"></canvas>
                            </div>
                        </div>
                        <div class="stat-card pull-requests">
                            <div class="stat-content">
                                <i class="fas fa-code-pull-request"></i>
                                <h3>Pull Requests</h3>
                                <p class="stat-number">56</p>
                                <p class="stat-change negative">-2.8%</p>
                            </div>
                            <div class="graph-container">
                                <canvas id="pullRequestsChart"></canvas>
                            </div>
                        </div>
                        <div class="stat-card issues">
                            <div class="stat-content">
                                <i class="fas fa-exclamation-circle"></i>
                                <h3>Issues</h3>
                                <p class="stat-number">89</p>
                                <p class="stat-change positive">+12.7%</p>
                            </div>
                            <div class="graph-container">
                                <canvas id="issuesChart"></canvas>
                            </div>
                        </div>
                        <div class="stat-card contributions">
                            <div class="stat-content">
                                <i class="fas fa-users"></i>
                                <h3>Contributions</h3>
                                <p class="stat-number">4,321</p>
                                <p class="stat-change positive">+8.1%</p>
                            </div>
                            <div class="graph-container">
                                <canvas id="contributionsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="followers-table-container">
                        <h2>Top Contributors</h2>
                        <table class="followers-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Contributions</th>
                                    <th>Most Used Language</th>
                                    <th>Latest Activity</th>
                                    <th>Repositories</th>
                                </tr>
                            </thead>
                            <tbody id="contributors-table-body">
                                <!-- Table rows will be dynamically inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>

        <!-- Right Sidebar -->
    </div>
{% endblock %}
